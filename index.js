!function(){"use strict";var e={509:function(e,t,n){var o=n(9985),i=n(3691),r=TypeError;e.exports=function(e){if(o(e))return e;throw new r(i(e)+" is not a function")}},5027:function(e,t,n){var o=n(8999),i=String,r=TypeError;e.exports=function(e){if(o(e))return e;throw new r(i(e)+" is not an object")}},4328:function(e,t,n){var o=n(5290),i=n(7578),r=n(6310),s=function(e){return function(t,n,s){var a,c=o(t),l=r(c),u=i(s,l);if(e&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},5649:function(e,t,n){var o=n(7697),i=n(2297),r=TypeError,s=Object.getOwnPropertyDescriptor,a=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!s(e,"length").writable)throw new r("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6648:function(e,t,n){var o=n(8844),i=o({}.toString),r=o("".slice);e.exports=function(e){return r(i(e),8,-1)}},8758:function(e,t,n){var o=n(6812),i=n(9152),r=n(2474),s=n(2560);e.exports=function(e,t,n){for(var a=i(t),c=s.f,l=r.f,u=0;u<a.length;u++){var f=a[u];o(e,f)||n&&o(n,f)||c(e,f,l(t,f))}}},5773:function(e,t,n){var o=n(7697),i=n(2560),r=n(5684);e.exports=o?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},5684:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},1880:function(e,t,n){var o=n(9985),i=n(2560),r=n(8702),s=n(5014);e.exports=function(e,t,n,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:t;if(o(n)&&r(n,l,a),a.global)c?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},5014:function(e,t,n){var o=n(9037),i=Object.defineProperty;e.exports=function(e,t){try{i(o,e,{value:t,configurable:!0,writable:!0})}catch(n){o[e]=t}return t}},7697:function(e,t,n){var o=n(3689);e.exports=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(e){var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},6420:function(e,t,n){var o=n(9037),i=n(8999),r=o.document,s=i(r)&&i(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},5565:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},71:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(e,t,n){var o,i,r=n(9037),s=n(71),a=r.process,c=r.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(i=(o=u.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!i&&s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(i=+o[1]),e.exports=i},2739:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(e,t,n){var o=n(9037),i=n(2474).f,r=n(5773),s=n(1880),a=n(5014),c=n(8758),l=n(5266);e.exports=function(e,t){var n,u,f,p,d,h=e.target,v=e.global,b=e.stat;if(n=v?o:b?o[h]||a(h,{}):(o[h]||{}).prototype)for(u in t){if(p=t[u],f=e.dontCallGetSet?(d=i(n,u))&&d.value:n[u],!l(v?u:h+(b?".":"#")+u,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&r(p,"sham",!0),s(n,u,p,e)}}},3689:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},7215:function(e,t,n){var o=n(3689);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},2615:function(e,t,n){var o=n(7215),i=Function.prototype.call;e.exports=o?i.bind(i):function(){return i.apply(i,arguments)}},1236:function(e,t,n){var o=n(7697),i=n(6812),r=Function.prototype,s=o&&Object.getOwnPropertyDescriptor,a=i(r,"name"),c=a&&"something"===function(){}.name,l=a&&(!o||o&&s(r,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},8844:function(e,t,n){var o=n(7215),i=Function.prototype,r=i.call,s=o&&i.bind.bind(r,r);e.exports=o?s:function(e){return function(){return r.apply(e,arguments)}}},6058:function(e,t,n){var o=n(9037),i=n(9985);e.exports=function(e,t){return arguments.length<2?(n=o[e],i(n)?n:void 0):o[e]&&o[e][t];var n}},4849:function(e,t,n){var o=n(509),i=n(981);e.exports=function(e,t){var n=e[t];return i(n)?void 0:o(n)}},9037:function(e,t,n){var o=function(e){return e&&e.Math===Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||o("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:function(e,t,n){var o=n(8844),i=n(690),r=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(i(e),t)}},7248:function(e){e.exports={}},8506:function(e,t,n){var o=n(7697),i=n(3689),r=n(6420);e.exports=!o&&!i((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},4413:function(e,t,n){var o=n(8844),i=n(3689),r=n(6648),s=Object,a=o("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===r(e)?a(e,""):s(e)}:s},6738:function(e,t,n){var o=n(8844),i=n(9985),r=n(4091),s=o(Function.toString);i(r.inspectSource)||(r.inspectSource=function(e){return s(e)}),e.exports=r.inspectSource},618:function(e,t,n){var o,i,r,s=n(9834),a=n(9037),c=n(8999),l=n(5773),u=n(6812),f=n(4091),p=n(2713),d=n(7248),h="Object already initialized",v=a.TypeError,b=a.WeakMap;if(s||f.state){var g=f.state||(f.state=new b);g.get=g.get,g.has=g.has,g.set=g.set,o=function(e,t){if(g.has(e))throw new v(h);return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},r=function(e){return g.has(e)}}else{var m=p("state");d[m]=!0,o=function(e,t){if(u(e,m))throw new v(h);return t.facade=e,l(e,m,t),t},i=function(e){return u(e,m)?e[m]:{}},r=function(e){return u(e,m)}}e.exports={set:o,get:i,has:r,enforce:function(e){return r(e)?i(e):o(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw new v("Incompatible receiver, "+e+" required");return n}}}},2297:function(e,t,n){var o=n(6648);e.exports=Array.isArray||function(e){return"Array"===o(e)}},9985:function(e,t,n){var o=n(2659),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},5266:function(e,t,n){var o=n(3689),i=n(9985),r=/#|\.prototype\./,s=function(e,t){var n=c[a(e)];return n===u||n!==l&&(i(t)?o(t):!!t)},a=s.normalize=function(e){return String(e).replace(r,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},981:function(e){e.exports=function(e){return null==e}},8999:function(e,t,n){var o=n(9985),i=n(2659),r=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:o(e)||e===r}:function(e){return"object"==typeof e?null!==e:o(e)}},3931:function(e){e.exports=!1},734:function(e,t,n){var o=n(6058),i=n(9985),r=n(3622),s=n(9525),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&r(t.prototype,a(e))}},6310:function(e,t,n){var o=n(3126);e.exports=function(e){return o(e.length)}},8702:function(e,t,n){var o=n(8844),i=n(3689),r=n(9985),s=n(6812),a=n(7697),c=n(1236).CONFIGURABLE,l=n(6738),u=n(618),f=u.enforce,p=u.get,d=String,h=Object.defineProperty,v=o("".slice),b=o("".replace),g=o([].join),m=a&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),y=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===v(d(t),0,7)&&(t="["+b(d(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(a?h(e,"name",{value:t,configurable:!0}):e.name=t),m&&n&&s(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var o=f(e);return s(o,"source")||(o.source=g(y,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return r(this)&&p(this).source||l(this)}),"toString")},8828:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?n:t)(o)}},2560:function(e,t,n){var o=n(7697),i=n(8506),r=n(5648),s=n(5027),a=n(8360),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,f="enumerable",p="configurable",d="writable";t.f=o?r?function(e,t,n){if(s(e),t=a(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&d in n&&!n[d]){var o=u(e,t);o&&o[d]&&(e[t]=n.value,n={configurable:p in n?n[p]:o[p],enumerable:f in n?n[f]:o[f],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2474:function(e,t,n){var o=n(7697),i=n(2615),r=n(9556),s=n(5684),a=n(5290),c=n(8360),l=n(6812),u=n(8506),f=Object.getOwnPropertyDescriptor;t.f=o?f:function(e,t){if(e=a(e),t=c(t),u)try{return f(e,t)}catch(e){}if(l(e,t))return s(!i(r.f,e,t),e[t])}},2741:function(e,t,n){var o=n(4948),i=n(2739).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},7518:function(e,t){t.f=Object.getOwnPropertySymbols},3622:function(e,t,n){var o=n(8844);e.exports=o({}.isPrototypeOf)},4948:function(e,t,n){var o=n(8844),i=n(6812),r=n(5290),s=n(4328).indexOf,a=n(7248),c=o([].push);e.exports=function(e,t){var n,o=r(e),l=0,u=[];for(n in o)!i(a,n)&&i(o,n)&&c(u,n);for(;t.length>l;)i(o,n=t[l++])&&(~s(u,n)||c(u,n));return u}},9556:function(e,t){var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},5899:function(e,t,n){var o=n(2615),i=n(9985),r=n(8999),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!r(a=o(n,e)))return a;if(i(n=e.valueOf)&&!r(a=o(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!r(a=o(n,e)))return a;throw new s("Can't convert object to primitive value")}},9152:function(e,t,n){var o=n(6058),i=n(8844),r=n(2741),s=n(7518),a=n(5027),c=i([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=s.f;return n?c(t,n(e)):t}},4684:function(e,t,n){var o=n(981),i=TypeError;e.exports=function(e){if(o(e))throw new i("Can't call method on "+e);return e}},2713:function(e,t,n){var o=n(3430),i=n(4630),r=o("keys");e.exports=function(e){return r[e]||(r[e]=i(e))}},4091:function(e,t,n){var o=n(9037),i=n(5014),r="__core-js_shared__",s=o[r]||i(r,{});e.exports=s},3430:function(e,t,n){var o=n(3931),i=n(4091);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.34.0",mode:o?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},146:function(e,t,n){var o=n(3615),i=n(3689),r=n(9037).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!r(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},7578:function(e,t,n){var o=n(8700),i=Math.max,r=Math.min;e.exports=function(e,t){var n=o(e);return n<0?i(n+t,0):r(n,t)}},5290:function(e,t,n){var o=n(4413),i=n(4684);e.exports=function(e){return o(i(e))}},8700:function(e,t,n){var o=n(8828);e.exports=function(e){var t=+e;return t!=t||0===t?0:o(t)}},3126:function(e,t,n){var o=n(8700),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},690:function(e,t,n){var o=n(4684),i=Object;e.exports=function(e){return i(o(e))}},8732:function(e,t,n){var o=n(2615),i=n(8999),r=n(734),s=n(4849),a=n(5899),c=n(4201),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||r(e))return e;var n,c=s(e,u);if(c){if(void 0===t&&(t="default"),n=o(c,e,t),!i(n)||r(n))return n;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},8360:function(e,t,n){var o=n(8732),i=n(734);e.exports=function(e){var t=o(e,"string");return i(t)?t:t+""}},3691:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4630:function(e,t,n){var o=n(8844),i=0,r=Math.random(),s=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+r,36)}},9525:function(e,t,n){var o=n(146);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(e,t,n){var o=n(7697),i=n(3689);e.exports=o&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9834:function(e,t,n){var o=n(9037),i=n(9985),r=o.WeakMap;e.exports=i(r)&&/native code/.test(String(r))},4201:function(e,t,n){var o=n(9037),i=n(3430),r=n(6812),s=n(4630),a=n(146),c=n(9525),l=o.Symbol,u=i("wks"),f=c?l.for||l:l&&l.withoutSetter||s;e.exports=function(e){return r(u,e)||(u[e]=a&&r(l,e)?l[e]:f("Symbol."+e)),u[e]}},560:function(e,t,n){var o=n(9989),i=n(690),r=n(6310),s=n(5649),a=n(5565);o({target:"Array",proto:!0,arity:1,forced:n(3689)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),n=r(t),o=arguments.length;a(n+o);for(var c=0;c<o;c++)t[n]=arguments[c],n++;return s(t,n),n}})}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};!function(){n.r(o),n.d(o,{default:function(){return Q}});var e=require("vue"),t=n.n(e),i=require("lodash.clonedeep"),r=n.n(i),s=(n(560),require("jquery")),a=n.n(s),c=require("lodash.debounce"),l=n.n(c),u=require("interactjs"),f=n.n(u);function p(e,t,n,o,i,r,s,a){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),o&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:l}}var d,h,v=p({props:{size:{type:Number,default:24},color:{type:String,default:"#231815"}}},(function(){var e=this,t=e._self._c;return t("svg",{staticClass:"icon-svg",attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:e.size,height:e.size}},[t("path",{attrs:{d:"M797.1523459 329.77407251L680.64724457 213.26897117l-27.15736648-27.15736648H199.69028762v651.77679062h624.61942476V356.93143836zM308.31975294 213.26897117h271.57366296v135.78683117H308.31975294z m271.57366296 597.46205766H308.31975294V484.84263352h407.36049412v325.88839531z m217.25893-380.20312766v380.20312766h-54.31473236V457.68526766H281.16238646v353.04576117H226.8476541V213.26897117h54.31473236v162.94419766h325.8883953V213.26897117h35.03300249L797.1523459 368.33753219V430.52790117z",fill:e.color}}),e._v(" "),t("path",{attrs:{d:"M362.63448526 566.31473234h271.57366298v27.15736649H362.63448526zM362.63448526 674.94419766h271.57366298v27.15736648H362.63448526z",fill:e.color}})])}),[],!1,null,null,null).exports,b=require("lodash.template"),g=n.n(b),m=require("@jsplumb/browser-ui"),y="STEP_INDEX",w="BIZ_IDS",C="Circle",x="Diamond",O="Rectangle",I=((d={})[C]=C,d[O]=O,d[x]=x,"FC_OPTIONS"),S="data-step-index",E="data-biz-id",_="data-sort",P=m.FlowchartConnector.type,j="fc",N="contenteditable",F={node:{endpoint:{show:!0}},highlight:{type:y,value:-1},stage:{scale:{value:1,step:.1,min:.5,max:2,wheelWithAlt:!0},offset:{x:0,y:0}},config:{nodes:[],connections:[]}},z=((h={Stage:"flow-chart",Node:"fc-node",NodeContent:"fc-node-text",NodeSkeleton:"fc-node-skeleton",Selected:"fc-selected",Disabled:"fc-disabled",Connection:"jtk-connector"})[C]="fc-node-circle",h[O]="fc-node-rectangle",h[x]="fc-node-diamond",h),L=g()('\n  <div\n    class="fc-node fc-node-<%= type %>"\n    '.concat(E,'="<%= bizId %>"\n    ').concat(S,'="<%= stepIndex %>"\n    ').concat(_,'="<%= sort %>"\n    style="left: <%= position.x %>px; top: <%= position.y %>px;"\n  >\n    <div class="fc-node-inner">\n      <div class="fc-node-text"><%= content %></div>\n    </div>\n  </div>\n')),T=g()('\n  <div class="fc-node-skeleton marching-ants marching"></div>\n'),k={MOUSEDOWN:"mousedown.".concat(j),DBLCLICK:"dblclick.".concat(j),BLUR:"blur.".concat(j),FOCUS:"focus.".concat(j),WHEEL:"wheel.".concat(j),MOUSEOVER:"mouseover.".concat(j),MOUSELEAVE:"mouseleave.".concat(j),SELECT_NODE:"select-node.".concat(j),SELECT_CONNECTION:"select-connection.".concat(j),UNSELECT_ALL:"unselect-all.".concat(j),STAGE_MOVE:"stage-move.".concat(j)},M=function(e){return new Promise((function(t,n){window.confirm(e)?t(!0):n(new Error("cancel"))}))},D=p({props:{size:{type:Number,default:24},color:{type:String,default:"#231815"}}},(function(){var e=this,t=e._self._c;return t("svg",{staticClass:"icon-svg",attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:e.size,height:e.size}},[t("path",{attrs:{d:"M656 288h144a16 16 0 0 1 16 16v16a16 16 0 0 1-16 16h-48v496a16 16 0 0 1-16 16H288a16 16 0 0 1-16-16V336h-48a16 16 0 0 1-16-16v-16a16 16 0 0 1 16-16h144v-80a16 16 0 0 1 16-16h256a16 16 0 0 1 16 16v80z m-48 0v-48H416v48h192z m32 48H320v464h384V336h-64z m-208 112h16a16 16 0 0 1 16 16v192a16 16 0 0 1-16 16h-16a16 16 0 0 1-16-16V464a16 16 0 0 1 16-16z m144 0h16a16 16 0 0 1 16 16v192a16 16 0 0 1-16 16h-16a16 16 0 0 1-16-16V464a16 16 0 0 1 16-16z",fill:e.color}})])}),[],!1,null,null,null).exports,A=p({props:{size:{type:Number,default:16},color:{type:String,default:"#231815"}}},(function(){var e=this,t=e._self._c;return t("svg",{staticClass:"icon-svg",attrs:{viewBox:"0 0 1026 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:e.size,height:e.size}},[t("path",{attrs:{d:"M1009.162581 785.066667h-136.533333c-10.24 0-17.066667-6.826667-17.066667-17.066667s6.826667-17.066667 17.066667-17.066667H992.095915v-119.466666c0-10.24 6.826667-17.066667 17.066666-17.066667s17.066667 6.826667 17.066667 17.066667v136.533333c0 10.24-6.826667 17.066667-17.066667 17.066667zM565.429248 989.866667h-167.253333c-20.48 0-37.546667-13.653333-40.96-34.133334l-17.066667-116.053333c-23.893333-10.24-47.786667-23.893333-71.68-40.96l-112.64 44.373333c-20.48 6.826667-40.96 0-51.2-17.066666L5.642581 662.186667c-10.24-17.066667-6.826667-40.96 10.24-51.2l95.573334-71.68c0-13.653333-3.413333-27.306667-3.413334-37.546667s0-23.893333 3.413334-37.546667L15.882581 392.533333c-17.066667-13.653333-20.48-34.133333-10.24-54.613333L104.629248 163.84c10.24-17.066667 34.133333-23.893333 51.2-17.066667l112.64 44.373334c23.893333-17.066667 47.786667-30.72 71.68-40.96l17.066667-116.053334c3.413333-20.48 20.48-34.133333 40.96-34.133333h197.973333c20.48 0 37.546667 13.653333 40.96 34.133333l17.066667 116.053334c23.893333 10.24 47.786667 23.893333 71.68 40.96l112.64-44.373334c20.48-6.826667 40.96 0 51.2 17.066667l98.986666 163.84c10.24 17.066667 6.826667 40.96-10.24 51.2l-95.573333 71.68c0 10.24 3.413333 23.893333 3.413333 37.546667V498.346667c0 6.826667-3.413333 10.24-6.826666 13.653333-3.413333 3.413333-10.24 3.413333-13.653334 3.413333-64.853333-17.066667-129.706667-13.653333-191.146666 17.066667-6.826667 3.413333-13.653333 3.413333-17.066667-3.413333-6.826667-3.413333-6.826667-10.24-6.826667-17.066667 3.413333-13.653333 6.826667-27.306667 6.826667-40.96 0-95.573333-75.093333-170.666667-170.666667-170.666667s-170.666667 75.093333-170.666666 170.666667c0 109.226667 98.986667 194.56 211.626666 163.84 6.826667 0 13.653333 0 17.066667 6.826667 3.413333 6.826667 3.413333 13.653333 3.413333 17.066666-23.893333 44.373333-34.133333 85.333333-34.133333 126.293334 0 64.853333 23.893333 126.293333 64.853333 177.493333 3.413333 3.413333 6.826667 13.653333 3.413334 17.066667-3.413333 6.826667-10.24 10.24-17.066667 10.24z m-293.546667-228.693334c3.413333 0 6.826667 0 10.24 3.413334 23.893333 17.066667 51.2 34.133333 78.506667 44.373333 6.826667 3.413333 10.24 6.826667 10.24 13.653333l17.066667 126.293334c0 3.413333 3.413333 6.826667 6.826666 6.826666h133.12c-34.133333-51.2-51.2-109.226667-51.2-170.666666 0-34.133333 6.826667-71.68 17.066667-102.4-116.053333 10.24-218.453333-85.333333-218.453333-204.8 0-112.64 92.16-204.8 204.8-204.8s204.8 92.16 204.8 204.8v17.066666c51.2-20.48 109.226667-23.893333 163.84-10.24 0-13.653333-3.413333-23.893333-3.413334-34.133333 0-6.826667 3.413333-13.653333 6.826667-17.066667l102.4-78.506666c3.413333-3.413333 3.413333-6.826667 0-10.24L855.562581 180.906667c-3.413333-3.413333-6.826667-3.413333-10.24-3.413334l-122.88 47.786667c-6.826667 3.413333-10.24 0-17.066666-3.413333-23.893333-17.066667-51.2-34.133333-78.506667-44.373334-6.826667-3.413333-10.24-6.826667-10.24-13.653333l-17.066667-126.293333c0-3.413333-3.413333-6.826667-6.826666-6.826667h-197.973334c-3.413333 0-6.826667 3.413333-6.826666 6.826667l-17.066667 126.293333c0 6.826667-3.413333 10.24-10.24 13.653333-23.893333 13.653333-51.2 27.306667-78.506667 47.786667-3.413333 3.413333-10.24 3.413333-13.653333 0L145.589248 177.493333c-3.413333 0-6.826667 0-10.24 3.413334L36.362581 348.16c-3.413333 3.413333 0 6.826667 0 6.826667l102.4 78.506666c3.413333 3.413333 6.826667 10.24 6.826667 17.066667-3.413333 17.066667-3.413333 30.72-3.413333 44.373333s0 27.306667 3.413333 44.373334c0 6.826667-3.413333 13.653333-6.826667 17.066666l-102.4 78.506667v6.826667l98.986667 163.84c3.413333 3.413333 6.826667 3.413333 10.24 3.413333l122.88-47.786667h3.413333z",fill:e.color}}),e._v(" "),t("path",{attrs:{d:"M787.295915 1024c-133.12 0-238.933333-105.813333-238.933334-238.933333s105.813333-238.933333 238.933334-238.933334c119.466667 0 218.453333 88.746667 235.52 204.8 0 10.24-3.413333 17.066667-13.653334 20.48-10.24 0-17.066667-3.413333-20.48-13.653333-13.653333-102.4-98.986667-177.493333-201.386666-177.493333-112.64 0-204.8 92.16-204.8 204.8s92.16 204.8 204.8 204.8c10.24 0 17.066667 6.826667 17.066666 17.066666s-6.826667 17.066667-17.066666 17.066667z",fill:e.color}})])}),[],!1,null,null,null).exports,H=p({props:{size:{type:Number,default:20},color:{type:String,default:"#231815"}}},(function(){var e=this,t=e._self._c;return t("svg",{staticClass:"icon-svg",attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:e.size,height:e.size}},[t("path",{attrs:{d:"M1022.955204 522.570753c0 100.19191-81.516572 181.698249-181.718715 181.698249l-185.637977 0c-11.2973 0-20.466124-9.168824-20.466124-20.466124 0-11.307533 9.168824-20.466124 20.466124-20.466124l185.637977 0c77.628008 0 140.786467-63.148226 140.786467-140.766001 0-77.423347-62.841234-140.448776-140.203182-140.766001-0.419556 0.030699-0.818645 0.051165-1.217734 0.061398-5.945409 0.143263-11.686157-2.292206-15.687284-6.702656-4.001127-4.400217-5.894244-10.335393-5.167696-16.250102 1.330298-10.806113 1.944282-19.760043 1.944282-28.192086 0-60.763922-23.658839-117.884874-66.617234-160.833035-42.968627-42.968627-100.089579-66.617234-160.843268-66.617234-47.368844 0-92.742241 14.449084-131.208321 41.781592-37.616736 26.738991-65.952084 63.700811-81.925894 106.884332-2.425236 6.538927-8.012488 11.399631-14.827707 12.893658-6.815219 1.483794-13.927197-0.603751-18.859533-5.54632-19.289322-19.330254-44.943608-29.972639-72.245418-29.972639-56.322773 0-102.146425 45.813419-102.146425 102.125959 0 0.317225 0.040932 0.982374 0.092098 1.627057 0.061398 0.920976 0.122797 1.831718 0.153496 2.762927 0.337691 9.465582-5.863545 17.928325-15.001669 20.455891-32.356942 8.933463-61.541635 28.550243-82.181721 55.217602-21.305235 27.516704-32.571836 60.508096-32.571836 95.41307 0 86.244246 70.188572 156.422585 156.443052 156.422585l169.981393 0c11.2973 0 20.466124 9.15859 20.466124 20.466124 0 11.2973-9.168824 20.466124-20.466124 20.466124l-169.981393 0c-108.828614 0-197.3753-88.536452-197.3753-197.354833 0-44.053332 14.223956-85.712127 41.126676-120.473839 22.809495-29.460985 53.897537-52.086285 88.710414-64.816215 5.065366-74.322729 67.149353-133.2447 142.751215-133.2447 28.386514 0 55.504128 8.217149 78.651314 23.52581 19.657712-39.868009 48.842405-74.169233 85.497233-100.212376 45.434795-32.295544 99.004875-49.354058 154.918325-49.354058 71.692832 0 139.087778 27.915793 189.782368 78.600149 50.694589 50.694589 78.610382 118.089535 78.610382 189.782368 0 3.704368-0.102331 7.470135-0.296759 11.368932C952.633602 352.568894 1022.955204 429.511287 1022.955204 522.570753z",fill:e.color}}),e._v(" "),t("path",{attrs:{d:"M629.258611 820.711014l-102.023628 102.013395c-3.990894 4.001127-9.230222 5.996574-14.46955 5.996574s-10.478655-1.995447-14.46955-5.996574l-102.023628-102.013395c-7.992021-7.992021-7.992021-20.947078 0-28.939099s20.947078-8.002254 28.939099 0l67.087954 67.077721 0-358.699522c0-11.2973 9.15859-20.466124 20.466124-20.466124 11.307533 0 20.466124 9.168824 20.466124 20.466124l0 358.699522 67.087954-67.077721c7.992021-8.002254 20.947078-7.992021 28.939099 0S637.250632 812.718993 629.258611 820.711014z",fill:e.color}})])}),[],!1,null,null,null).exports,B=p({props:{size:{type:Number,default:16},color:{type:String,default:"#231815"}}},(function(){var e=this,t=e._self._c;return t("svg",{staticClass:"icon-svg",attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:e.size,height:e.size}},[t("path",{attrs:{d:"M467.476179 711.099612c7.764658 6.256879 18.254606 7.71628 27.277089 3.330015a25.325846 25.325846 0 0 0 14.690765-23.140777V517.33794c163.694789 0.628913 276.802389 12.312183 413.840938 252.774684a25.680618 25.680618 0 0 0 22.455423 12.92497c2.096377 0 4.410455-0.209638 6.506831-0.830488a25.446791 25.446791 0 0 0 19.101219-24.60824v-20.238101c1.048188-169.967794 2.934928-520.336888-461.904411-537.019211V25.576283a25.55161 25.55161 0 0 0-14.690765-23.140777c-9.022484-4.176628-19.722069-2.926865-27.277089 3.330014L62.028811 338.412166a25.608051 25.608051 0 0 0-9.441759 19.601125c0 7.71628 3.354203 14.81171 9.232121 19.609188l405.648943 333.477133zM458.034419 79.799879v145.577254a25.761248 25.761248 0 0 0 25.39035 25.648366c193.277893 1.878676 318.568668 60.480475 383.201583 179.56275 40.718091 74.663272 50.571063 162.880427 52.885141 236.922849C787.512311 477.087502 663.479362 466.460484 483.618281 466.258909c-6.708406 0-13.424876 2.709164-18.254605 7.498579a25.479043 25.479043 0 0 0-7.546957 18.141724v145.375679L118.68743 358.005228 458.026356 79.799879z m513.523663 916.81015c0 13.973159-11.546199 25.438728-25.817688 25.438728H83.436045a25.720933 25.720933 0 0 1-25.817689-25.648366v-471.120407a25.720933 25.720933 0 0 1 25.817689-25.656429 25.720933 25.720933 0 0 1 25.809626 25.648366v445.891317h810.685097v-86.757755a25.720933 25.720933 0 0 1 25.809626-25.656429 25.720933 25.720933 0 0 1 25.817688 25.656429v112.204546z",fill:e.color}})])}),[],!1,null,null,null);var R=p({name:"FcToolbox",components:{IconImport:B.exports,IconDownload:H,IconResetSettings:A,IconDelete:D,IconSave:v},inject:["flowChartRef"],data(){return{options:(0,m.merge)({},F),nodeInfo:{visible:!1,id:"",bizId:"",type:"",text:"",position:{x:0,y:0},stepIndex:0,sort:0},connectionInfo:{visible:!1,type:"",sourceId:"",sourceAnchor:"",targetId:"",targetAnchor:"",label:""},bizIdsDropdownMenu:{visible:!1,fcNodes:[]}}},mounted(){this.initDnd()},methods:{init(e){this.options=e,this.bindListeners()},bindListeners(){const e=".biz-ids-box",t="click.toolbox";a()(window).off(t).on(t,(t=>{const{target:n}=t,o=a()(n);o.closest(e).length>0||o.is(e)||(this.bizIdsDropdownMenu.visible=!1)}));const{fc:n}=this.flowChartRef;n.on(k.SELECT_NODE,(e=>{e&&(this.connectionInfo.visible=!1,this.nodeInfo={visible:!0,...e})})),n.on(k.SELECT_CONNECTION,(e=>{e&&(this.nodeInfo.visible=!1,this.connectionInfo={visible:!0,...e})})),n.on(k.UNSELECT_ALL,(()=>{this.connectionInfo.visible=!1,this.nodeInfo.visible=!1})),n.on(k.WHEEL,(e=>{this.options.stage.scale.value=e})),n.on(k.STAGE_MOVE,(e=>{this.options.stage.offset=e}))},initDnd(){const e={el:this.$el,x:0,y:0,height:0};({x:e.x,y:e.y,height:e.height}=e.el.getBoundingClientRect());const t={el:null,x:0,y:0,setAbsolute(){this.el.style.position="absolute"},updatePosition(){this.el.style.left=`${this.x}px`,this.el.style.top=`${this.y}px`},getFcNode(){const{classList:e}=this.el;let t=O,n="任务内容";const o={x:this.x,y:this.y};return e.contains(z[C])&&(t=C,n="起止符号"),e.contains(z[x])&&(t=x,n="决策判断"),{type:t,content:n,position:o}},destroy(){e.el.removeChild(this.el),this.el=null}};f()(".fc-toolbox .fc-node").draggable({autoScroll:!0,cursorChecker:()=>"default",listeners:{start:n=>{const o=n.currentTarget;t.el=o.cloneNode(!0),t.x=o.offsetLeft,t.y=o.offsetTop,t.setAbsolute(),t.updatePosition(),e.el.appendChild(t.el)},move:e=>{const{dx:n,dy:o}=e;t.x+=n,t.y+=o,t.updatePosition()},end:()=>{if(t.y<e.height)return void t.destroy();const n=this.options.stage.scale.value,{x:o,y:i}=this.flowChartRef.fc.getStageElement().getBoundingClientRect();t.x-=o,t.y-=i,t.x/=n,t.y/=n,this.flowChartRef.fc.createFcNode(t.getFcNode()),t.destroy()}}})},save(){const{fc:e}=this.flowChartRef,t=e.getOptions();var n;t.config=e.getFlowChartConfig(),localStorage.setItem(I,JSON.stringify(t)),n=`保存成功! 查看 localStorage.getItem("${I}")`,window.alert(n)},remove(){const{fc:e}=this.flowChartRef,t=e.getSelectedFcNode();if(t)return void M("确认删除选中的节点？").then((()=>{e.removeFcNode(t)})).catch((e=>{}));const n=e.getSelectedJsPlumbConnection();if(!n)return o="请选择要删除的节点或连线！",void window.alert(o);var o;M("确认删除选中的连线？").then((()=>{e.removeFcConnection(n)})).catch((e=>{}))},resetSetting(){const{fc:e}=this.flowChartRef,t=e.getOptions();t.stage.scale.value=1,t.stage.offset={x:0,y:0},this.options=t,e.updateStageScaleAndOffset()},downloadConfigFile(){const{fc:e}=this.flowChartRef,t=e.getOptions();t.config=e.getFlowChartConfig();!function(e,t){const n=document.createElement("a");n.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(t)}`),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("flowchart.config.json",JSON.stringify(t,null,2))},importConfigFile(e){const[t]=e.target.files,n=new FileReader;n.onload=()=>{const e=n.result,t=JSON.parse(String(e));this.flowChartRef.reset(t)},t&&n.readAsText(t)},changeNodeStepIndex(){const{fc:e}=this.flowChartRef,{stepIndex:t}=this.nodeInfo,n=e.getSelectedFcNode();e.setStepIndexOfFcElement(n,t)},changeNodeSort(){const{fc:e}=this.flowChartRef,{sort:t}=this.nodeInfo,n=e.getSelectedFcNode();e.setSortOfFcElement(n,t)},changeNodeBizId(){const{fc:e}=this.flowChartRef,{bizId:t}=this.nodeInfo,n=e.getSelectedFcNode();e.setBizIdOfFcElement(n,t)},changeConnectionLabel:l()((function(){const{fc:e}=this.flowChartRef,t=e.getSelectedJsPlumbConnection();e.setLabelOfJsPlumbConnection(t,this.connectionInfo.label)}),300),changeHighlightType(){const{fc:e}=this.flowChartRef,{type:t}=this.options.highlight;e.updateHighlightType(t),this.options=e.getOptions()},changeHighlightValue(){const{highlight:{type:e,value:t}}=this.options;e===y&&this.flowChartRef.fc.setCurrentStepIndex(Number(t))},changeVisibleOfEndpoints(){this.flowChartRef.fc.setVisibleOfEndpoints(this.options.node.endpoint.show)},handleClickBizIdsInput(){const{fc:e}=this.flowChartRef;this.bizIdsDropdownMenu.visible=!0,this.bizIdsDropdownMenu.fcNodes=e.getFcNodeConfigs()},handleClickBizIdMenuItem(e){const{fc:t}=this.flowChartRef,n=this.options.highlight.value||[],o=n.findIndex((t=>t===e.bizId));-1===o?(n.push(e.bizId),n.sort()):n.splice(o,1),t.getOptions().highlight.value=n,t.updateHighlights()}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"fc-toolbox"},[t("div",{staticClass:"fc-toolbox-top"},[t("div",{staticClass:"feature-list"},[t("div",{staticClass:"feature-item tl-item",attrs:{title:"保存"},on:{click:e.save}},[t("IconSave")],1),e._v(" "),t("label",{staticClass:"feature-item tl-item",attrs:{title:"导入"}},[t("IconImport"),e._v(" "),t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"file"},on:{change:function(t){return e.importConfigFile(t)}}})],1),e._v(" "),t("div",{staticClass:"feature-item tl-item",attrs:{title:"下载"},on:{click:e.downloadConfigFile}},[t("IconDownload")],1),e._v(" "),t("div",{staticClass:"feature-item tl-item",attrs:{title:"删除"},on:{click:e.remove}},[t("IconDelete")],1),e._v(" "),t("div",{staticClass:"feature-item tl-item",attrs:{title:"重置"},on:{click:e.resetSetting}},[t("IconResetSettings")],1)]),e._v(" "),t("div",{staticClass:"tool-divider"}),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"tool-divider"}),e._v(" "),t("div",{staticClass:"fc-options fc-item-info"},[t("div",{staticClass:"fc-ii-item"},[t("span",{staticClass:"fc-ii-label"},[e._v("highlight.type:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.options.highlight.type,expression:"options.highlight.type"}],staticClass:"fc-ii-cont",attrs:{type:"radio",value:"STEP_INDEX"},domProps:{checked:e._q(e.options.highlight.type,"STEP_INDEX")},on:{change:[function(t){return e.$set(e.options.highlight,"type","STEP_INDEX")},e.changeHighlightType]}}),e._v(" STEP_INDEX\n        "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.options.highlight.type,expression:"options.highlight.type"}],staticClass:"fc-ii-cont",attrs:{type:"radio",value:"BIZ_IDS"},domProps:{checked:e._q(e.options.highlight.type,"BIZ_IDS")},on:{change:[function(t){return e.$set(e.options.highlight,"type","BIZ_IDS")},e.changeHighlightType]}}),e._v(" BIZ_IDS\n      ")]),e._v(" "),t("div",{staticClass:"fc-ii-item"},[t("span",{staticClass:"fc-ii-label"},[e._v("highlight.value:")]),e._v(" "),"STEP_INDEX"===e.options.highlight.type?t("input",{directives:[{name:"model",rawName:"v-model.trim.number",value:e.options.highlight.value,expression:"options.highlight.value",modifiers:{trim:!0,number:!0}}],staticClass:"fc-ii-cont fc-ii-input",attrs:{type:"number"},domProps:{value:e.options.highlight.value},on:{input:[function(t){t.target.composing||e.$set(e.options.highlight,"value",e._n(t.target.value.trim()))},e.changeHighlightValue],blur:function(t){return e.$forceUpdate()}}}):e._e(),e._v(" "),"BIZ_IDS"===e.options.highlight.type?t("div",{staticClass:"fc-ii-cont biz-ids-box",on:{wheel:function(e){e.stopPropagation()}}},[t("input",{staticClass:"fc-ii-input",attrs:{readonly:""},domProps:{value:JSON.stringify(e.options.highlight.value)},on:{click:e.handleClickBizIdsInput}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.bizIdsDropdownMenu.visible,expression:"bizIdsDropdownMenu.visible"}],staticClass:"dropdown-menu-biz-ids"},e._l(e.bizIdsDropdownMenu.fcNodes,(function(n,o){return t("div",{key:o,staticClass:"biz-id-menu-item",on:{click:function(t){return e.handleClickBizIdMenuItem(n)}}},[t("input",{staticClass:"menu-item-checkbox",attrs:{type:"checkbox"},domProps:{checked:e.options.highlight.value.includes(n.bizId)}}),e._v(" "),t("div",{staticClass:"menu-item-icon",class:`fc-node fc-node-${n.type.toLowerCase()}`}),e._v(" "),t("div",{staticClass:"menu-item-text"},[e._v("\n                "+e._s(n.text)+"\n              ")])])})),0)]):e._e()]),e._v(" "),t("div",{staticClass:"fc-ii-item"},[t("span",{staticClass:"fc-ii-label"},[e._v("node.endpoint.show:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.options.node.endpoint.show,expression:"options.node.endpoint.show"}],staticClass:"fc-ii-cont",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.options.node.endpoint.show)?e._i(e.options.node.endpoint.show,null)>-1:e.options.node.endpoint.show},on:{change:[function(t){var n=e.options.node.endpoint.show,o=t.target,i=!!o.checked;if(Array.isArray(n)){var r=e._i(n,null);o.checked?r<0&&e.$set(e.options.node.endpoint,"show",n.concat([null])):r>-1&&e.$set(e.options.node.endpoint,"show",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.options.node.endpoint,"show",i)},e.changeVisibleOfEndpoints]}})]),e._v(" "),t("div",{staticClass:"fc-ii-item"},[t("span",{staticClass:"fc-ii-label"},[e._v("stage.scale.value:")]),e._v(" "),t("span",{staticClass:"fc-ii-cont"},[e._v(e._s(e.options.stage.scale.value))])]),e._v(" "),t("div",{staticClass:"fc-ii-item"},[t("span",{staticClass:"fc-ii-label"},[e._v("stage.offset:")]),e._v(" "),t("span",{staticClass:"fc-ii-cont fc-ii-position"},[e._v(e._s(e.options.stage.offset))])])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.nodeInfo.visible||e.connectionInfo.visible,expression:"nodeInfo.visible || connectionInfo.visible"}],staticClass:"fc-toolbox-bottom"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.nodeInfo.visible,expression:"nodeInfo.visible"}],staticClass:"node-info fc-item-info"},[t("div",{staticClass:"fc-ii-item"},[t("span",{staticClass:"fc-ii-label"},[e._v("bizId:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.nodeInfo.bizId,expression:"nodeInfo.bizId",modifiers:{trim:!0}}],staticClass:"fc-ii-cont fc-ii-input",domProps:{value:e.nodeInfo.bizId},on:{input:[function(t){t.target.composing||e.$set(e.nodeInfo,"bizId",t.target.value.trim())},e.changeNodeBizId],blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"fc-ii-item"},[t("span",{staticClass:"fc-ii-label"},[e._v("stepIndex:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim.number",value:e.nodeInfo.stepIndex,expression:"nodeInfo.stepIndex",modifiers:{trim:!0,number:!0}}],staticClass:"fc-ii-cont fc-ii-input",attrs:{type:"number"},domProps:{value:e.nodeInfo.stepIndex},on:{input:[function(t){t.target.composing||e.$set(e.nodeInfo,"stepIndex",e._n(t.target.value.trim()))},e.changeNodeStepIndex],blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"fc-ii-item"},[t("span",{staticClass:"fc-ii-label"},[e._v("sort:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim.number",value:e.nodeInfo.sort,expression:"nodeInfo.sort",modifiers:{trim:!0,number:!0}}],staticClass:"fc-ii-cont fc-ii-input",attrs:{type:"number"},domProps:{value:e.nodeInfo.sort},on:{input:[function(t){t.target.composing||e.$set(e.nodeInfo,"sort",e._n(t.target.value.trim()))},e.changeNodeSort],blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"fc-ii-item"},[t("span",{staticClass:"fc-ii-label"},[e._v("text:")]),e._v(" "),t("span",{staticClass:"fc-ii-cont"},[e._v(e._s(e.nodeInfo.text))])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.connectionInfo.visible,expression:"connectionInfo.visible"}],staticClass:"connection-info fc-item-info"},[t("div",{staticClass:"fc-ii-item"},[t("span",{staticClass:"fc-ii-label"},[e._v("label:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.connectionInfo.label,expression:"connectionInfo.label",modifiers:{trim:!0}}],staticClass:"fc-ii-cont fc-ii-input",domProps:{value:e.connectionInfo.label},on:{input:[function(t){t.target.composing||e.$set(e.connectionInfo,"label",t.target.value.trim())},e.changeConnectionLabel],blur:function(t){return e.$forceUpdate()}}})])])])])}),[function(){var e=this,t=e._self._c;return t("div",{staticClass:"shape-list"},[t("div",{staticClass:"shape-item tl-item",attrs:{title:"开始/结束"}},[t("div",{staticClass:"fc-node fc-node-circle"})]),e._v(" "),t("div",{staticClass:"shape-item tl-item",attrs:{title:"流程"}},[t("div",{staticClass:"fc-node fc-node-rectangle"})]),e._v(" "),t("div",{staticClass:"shape-item tl-item",attrs:{title:"判定"}},[t("div",{staticClass:"fc-node fc-node-diamond"})])])}],!1,null,null,null).exports,$=require("lodash.merge"),V=n.n($),J=require("lodash.get"),U=n.n(J),q=require("lodash.throttle"),W=n.n(q);function Z(e,t){return void 0===t&&(t=2),parseFloat(e.toFixed(t))}var X=function(){function e(e,t){var n;Object.defineProperty(this,"el",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"$stage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"jsPlumbInstance",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:(n={},n[k.SELECT_NODE]=[],n[k.SELECT_CONNECTION]=[],n[k.UNSELECT_ALL]=[],n[k.WHEEL]=[],n[k.STAGE_MOVE]=[],n)}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.el=e,this.$stage=a()(e),this.options=V()({},F,t),this.jsPlumbInstance=this.createJsPlumbInstance(),this.init()}return Object.defineProperty(e.prototype,"createJsPlumbInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,m.newInstance)({container:this.el})}}),Object.defineProperty(e.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.options=V()({},this.options,e),this.importDefaults(),this.buildFlowChart(),this.bindListeners(),this.updateHighlights(),this.updateStageScaleAndOffset()}}),Object.defineProperty(e.prototype,"importDefaults",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e={connectionsDetachable:!1,connector:{type:m.FlowchartConnector.type,options:{cornerRadius:3}},endpoint:{type:m.DotEndpoint.type,options:{radius:4}},endpointStyle:{fill:"#fff",strokeWidth:1,stroke:"#067bef"},paintStyle:{strokeWidth:2,stroke:"#AAB7C4"},anchor:m.AnchorLocations.AutoDefault,connectionOverlays:[{type:m.ArrowOverlay.type,options:{location:1,width:10,length:10}}]};e.endpoint.type=this.options.node.endpoint.show?m.DotEndpoint.type:m.BlankEndpoint.type,this.jsPlumbInstance.importDefaults(e)}}),Object.defineProperty(e.prototype,"buildFlowChart",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.options.config;if(null!=e){var t=e.nodes,n=e.connections;this.createFcNodes(t),this.createFcConnections(n),this.updateVisibleOfEndpoints()}}}),Object.defineProperty(e.prototype,"createFcNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=0,n=e.length;t<n;t+=1)this.createFcNode(e[t])}}),Object.defineProperty(e.prototype,"createFcNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.id,n=e.type,o=e.bizId,i=e.stepIndex,r=void 0===i?0:i,s=e.sort,c=void 0===s?1:s,l=e.content,u=e.position,f=L({type:n.toLowerCase(),bizId:o,stepIndex:r,sort:c,content:l,position:u}),p=this.getElementFromJqueryObject(a()(f));this.createFcNodeWithElement(p,t)}}),Object.defineProperty(e.prototype,"createFcNodeWithElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.el.appendChild(e),this.jsPlumbInstance.manage(e,t),this.createEndpointsForFcNode(e)}}),Object.defineProperty(e.prototype,"createEndpointsForFcNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.jsPlumbInstance.addEndpoints(e,[{source:!0,target:!0,anchor:m.AnchorLocations.Top,maxConnections:-1},{source:!0,target:!0,anchor:m.AnchorLocations.Right,maxConnections:-1},{source:!0,target:!0,anchor:m.AnchorLocations.Bottom,maxConnections:-1},{source:!0,target:!0,anchor:m.AnchorLocations.Left,maxConnections:-1}])}}),Object.defineProperty(e.prototype,"createFcConnections",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=0,n=e.length;t<n;t+=1)this.createFcConnection(e[t])}}),Object.defineProperty(e.prototype,"createFcConnection",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.sourceId,n=e.sourceAnchor,o=e.targetId,i=e.targetAnchor,r=e.label;this.jsPlumbInstance.connect({source:this.getElementByManagedId(t),target:this.getElementByManagedId(o),anchors:[n,i],overlays:[{type:m.LabelOverlay.type,options:{label:r}}]})}}),Object.defineProperty(e.prototype,"getElementByManagedId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.jsPlumbInstance.getManagedElement(e)}}),Object.defineProperty(e.prototype,"updateVisibleOfEndpoints",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.options.node.endpoint.show;this.jsPlumbInstance.selectEndpoints().each((function(n){e.jsPlumbInstance.setEndpointVisible(n,t)}))}}),Object.defineProperty(e.prototype,"bindListeners",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.bindNormalEventListeners(),this.bindDragStage()}}),Object.defineProperty(e.prototype,"bindNormalEventListeners",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.bindMousedownListener(),this.bindDoubleClickListener(),this.bindMouseWheelListener()}}),Object.defineProperty(e.prototype,"bindMousedownListener",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=W()((function(t){var n=t.target;e.removeSelectedCssClass();var o=e.isContainTarget(n,z.Node);if(o)return e.onClickNode(o),void e.emit(k.SELECT_NODE,e.getFcNodeConfig(e.getElementFromJqueryObject(o)));var i=e.isContainTarget(n,z.Connection);if(i){e.onClickConnection(i);var r=e.getSelectedJsPlumbConnection(),s=r?e.getFcConnectionConfig(r):null;e.emit(k.SELECT_CONNECTION,s)}else e.emit(k.UNSELECT_ALL)}),200,{trailing:!1});this.$stage.on(k.MOUSEDOWN,t)}}),Object.defineProperty(e.prototype,"isContainTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=a()(e),o=this.getCssClassSelector(t);if(n.is(o))return n;var i=n.closest(o);return this.isExistElement(i)?i:null}}),Object.defineProperty(e.prototype,"getCssClassSelector",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.startsWith(".")?e:".".concat(e)}}),Object.defineProperty(e.prototype,"isExistElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.length>0}}),Object.defineProperty(e.prototype,"getElementFromJqueryObject",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.get(0)}}),Object.defineProperty(e.prototype,"removeSelectedCssClass",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=".".concat(z.Node,", .").concat(z.Connection);this.$stage.find(e).removeClass(z.Selected)}}),Object.defineProperty(e.prototype,"onClickNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.addSelectedCssClass(e),e.find(".".concat(z.NodeSkeleton)).length>0||e.append(T({}))}}),Object.defineProperty(e.prototype,"bindDoubleClickListener",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.$stage.on(k.DBLCLICK,(function(t){var n=t.target,o=e.isContainTarget(n,z.Node);o&&e.onDoubleClickNode(o)}))}}),Object.defineProperty(e.prototype,"onDoubleClickNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.find(".".concat(z.NodeContent));t.prop(N,"true").trigger(k.FOCUS).one(k.BLUR,(function(){t.removeAttr(N)}))}}),Object.defineProperty(e.prototype,"bindMouseWheelListener",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;a()(this.el.parentElement).on(k.WHEEL,(function(t){(t.stopPropagation(),!e.options.stage.scale.wheelWithAlt||t.altKey)&&(t.preventDefault(),t.originalEvent.deltaY<0?e.decreaseScale():e.increaseScale(),e.emit(k.WHEEL,e.options.stage.scale.value))}))}}),Object.defineProperty(e.prototype,"decreaseScale",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.options.stage.scale,t=e.value,n=e.step;t<=e.min||(this.options.stage.scale.value=Z(t-n),this.updateStageScaleAndOffset())}}),Object.defineProperty(e.prototype,"increaseScale",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.options.stage.scale,t=e.value,n=e.step;t>=e.max||(this.options.stage.scale.value=Z(t+n),this.updateStageScaleAndOffset())}}),Object.defineProperty(e.prototype,"updateStageScaleAndOffset",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.options.stage,t=e.scale.value,n=e.offset,o=n.x,i=n.y;this.el.style.transform="scale(".concat(t,") translateX(").concat(o,"px) translateY(").concat(i,"px)"),this.jsPlumbInstance.setZoom(t)}}),Object.defineProperty(e.prototype,"bindDragStage",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.el,n=t.parentElement,o=!1,i={mouseoverStage:!1,mouseoverContainer:!1};a()(n).on(k.MOUSEOVER,(function(e){e.target===t?(i.mouseoverStage=!0,i.mouseoverContainer=!1):e.target===n?(i.mouseoverStage=!1,i.mouseoverContainer=!0):(i.mouseoverStage=!1,i.mouseoverContainer=!1)})).on(k.MOUSELEAVE,(function(e){e.target===t?i.mouseoverStage=!1:e.target===n&&(i.mouseoverContainer=!1)})),f()(n).draggable({autoScroll:!0,cursorChecker:function(){return"default"},listeners:{start:function(){o=i.mouseoverStage||i.mouseoverContainer},move:function(t){var n=t.dx,i=t.dy;o&&(e.options.stage.offset.x+=n,e.options.stage.offset.y+=i,e.emit(k.STAGE_MOVE,e.options.stage.offset),e.updateStageScaleAndOffset())}}})}}),Object.defineProperty(e.prototype,"updateHighlights",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.options.highlight.type;e!==y?e===w&&this.updateBizIdsHighlights():this.updateStepIndexHighlights()}}),Object.defineProperty(e.prototype,"updateStepIndexHighlights",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=this.options.highlight.value,t=this.getAllFcNodes(),n=e,o=0;o<t.length;o+=1){var i=t[o];if(-1===n)this.setHighlightOfFcNode(i,!0);else{var r=this.getStepIndexOfFcElement(i)<=n;this.setHighlightOfFcNode(i,r)}}}}),Object.defineProperty(e.prototype,"updateBizIdsHighlights",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=this.options.highlight.value,t=this.getAllFcNodes(),n=e,o=0;o<t.length;o+=1){var i=t[o],r=this.getBizIdOfFcElement(i),s=n.includes(r);this.setHighlightOfFcNode(i,s)}}}),Object.defineProperty(e.prototype,"setHighlightOfFcNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=!0);var n=e instanceof HTMLElement?a()(e):e;t?n.removeClass(z.Disabled):n.addClass(z.Disabled)}}),Object.defineProperty(e.prototype,"addSelectedCssClass",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.addClass(z.Selected)}}),Object.defineProperty(e.prototype,"onClickConnection",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e instanceof m.Connection||this.addSelectedCssClass(e)}}),Object.defineProperty(e.prototype,"getOptions",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.options}}),Object.defineProperty(e.prototype,"getStageElement",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.el}}),Object.defineProperty(e.prototype,"getFlowChartConfig",{enumerable:!1,configurable:!0,writable:!0,value:function(){return{nodes:this.getFcNodeConfigs(),connections:this.getFcConnectionConfigs()}}}),Object.defineProperty(e.prototype,"getFcNodeConfigs",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.getAllFcNodes(),n=[];return t.forEach((function(t){n.push(e.getFcNodeConfig(t))})),n.sort((function(e,t){return e.sort-t.sort})),n}}),Object.defineProperty(e.prototype,"getAllFcNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.$stage.find(this.getCssClassSelector(z.Node));return Array.from(e)}}),Object.defineProperty(e.prototype,"getFcConnectionConfigs",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=[],t=this.jsPlumbInstance.getConnections(),n=0,o=t.length;n<o;n+=1){var i=t[n];e.push(this.getFcConnectionConfig(i))}return e}}),Object.defineProperty(e.prototype,"getFcConnectionConfig",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.sourceId,n=e.targetId,o=U()(e,"endpoints.0._anchor.type"),i=U()(e,"endpoints.1._anchor.type"),r=this.getLabelOfJsplumbConnection(e);return{type:P,sourceId:t,sourceAnchor:o,targetId:n,targetAnchor:i,label:r}}}),Object.defineProperty(e.prototype,"getLabelOfJsplumbConnection",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getLabelOverlayOfJsPlumbConnection(e);return t?t.labelText:""}}),Object.defineProperty(e.prototype,"getLabelOverlayOfJsPlumbConnection",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Object.values(e.getOverlays()).find((function(e){return e instanceof m.LabelOverlay}));return t||null}}),Object.defineProperty(e.prototype,"getFcNodeConfig",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.jsPlumbInstance.getId(e),n=this.getBizIdOfFcElement(e),o=this.getTypeOfFcElement(e),i=this.getContentOfFcElement(e);return{id:t,bizId:n,type:o,content:i.html,text:i.text,position:this.getPositionOfFcElement(e),stepIndex:this.getStepIndexOfFcElement(e),sort:this.getSortOfFcElement(e)}}}),Object.defineProperty(e.prototype,"getTypeOfFcElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.classList.contains(z.Circle)?C:e.classList.contains(z.Diamond)?x:O}}),Object.defineProperty(e.prototype,"getBizIdOfFcElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return a()(e).attr(E)||""}}),Object.defineProperty(e.prototype,"getStepIndexOfFcElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=a()(e).attr(S)||0;return Number(t)}}),Object.defineProperty(e.prototype,"getSortOfFcElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=a()(e).attr(_)||1;return Number(t)}}),Object.defineProperty(e.prototype,"getPositionOfFcElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return{x:parseFloat(e.style.left),y:parseFloat(e.style.top)}}}),Object.defineProperty(e.prototype,"getContentOfFcElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=(e instanceof HTMLElement?a()(e):e).find(".".concat(z.NodeContent));return{html:t.html(),text:t.text()}}}),Object.defineProperty(e.prototype,"removeFcNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,n;n=e instanceof HTMLElement?e:this.getElementByManagedId(e.id),this.jsPlumbInstance.deleteConnectionsForElement(n),null===(t=n.parentNode)||void 0===t||t.removeChild(n)}}),Object.defineProperty(e.prototype,"getSelectedFcNode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=".".concat(z.Selected,".").concat(z.Node),t=this.$stage.find(e);return this.getElementFromJqueryObject(t)}}),Object.defineProperty(e.prototype,"getSelectedJsPlumbConnection",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=".".concat(z.Selected,".").concat(z.Connection),t=this.$stage.find(e).get(0);return t?this.getJsPlumbConnectionBySvgElement(t):null}}),Object.defineProperty(e.prototype,"getJsPlumbConnectionBySvgElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=this.jsPlumbInstance.getConnections(),n=0,o=t.length;n<o;n+=1){var i=t[n];if(i.connector.canvas===e)return i}return null}}),Object.defineProperty(e.prototype,"removeFcConnection",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.jsPlumbInstance.deleteConnection(e)}}),Object.defineProperty(e.prototype,"setLabelOfJsPlumbConnection",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.getLabelOverlayOfJsPlumbConnection(e);null!=n?n.setLabel(t):this.jsPlumbInstance.addOverlay(e,{type:m.LabelOverlay.type,options:{label:t}})}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.eventHandlers[e];if(n)for(var o=0,i=n.length;o<i;o+=1){var r=n[o];try{r(t)}catch(e){}}}}),Object.defineProperty(e.prototype,"on",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.eventHandlers[e];if(!n)throw new Error("FlowChart.eventHandlers.".concat(e," is None"));n.push(t)}}),Object.defineProperty(e.prototype,"setStepIndexOfFcElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){a()(e).attr(S,t)}}),Object.defineProperty(e.prototype,"setSortOfFcElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){a()(e).attr(_,t)}}),Object.defineProperty(e.prototype,"setBizIdOfFcElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.getFcElementByBizId(t);if(n&&n!==e){var o=this.getContentOfFcElement(n).text;throw new Error('bizId="'.concat(t,'" is exist in node[').concat(o,"]"))}a()(e).attr(E,t)}}),Object.defineProperty(e.prototype,"getFcElementByBizId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.$stage.find(".".concat(z.Node,"[data-biz-id=").concat(e,"]"));return this.isExistElement(t)?this.getElementFromJqueryObject(t):null}}),Object.defineProperty(e.prototype,"setCurrentStepIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.options.highlight.type===y&&(this.options.highlight.value=Number(e),this.updateHighlights())}}),Object.defineProperty(e.prototype,"updateHighlightType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.options.highlight.type=e,e===y?this.options.highlight.value=-1:e===w&&(this.options.highlight.value=[]),this.updateHighlights()}}),Object.defineProperty(e.prototype,"setVisibleOfEndpoints",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.options.node.endpoint.show=e,this.updateVisibleOfEndpoints()}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.jsPlumbInstance.destroy(),this.getAllFcNodes().forEach((function(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)}));var e=".".concat(j),t=this.el.parentElement;this.$stage.off(e),a()(t).off(e),f()(t).unset(),this.eventHandlers=null,this.el=null,this.$stage=null,this.jsPlumbInstance=null}}),e}(),G=p({props:{size:{type:Number,default:24},color:{type:String,default:"#231815"}}},(function(){var e=this,t=e._self._c;return t("svg",{staticClass:"icon-svg",attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:e.size,height:e.size}},[t("path",{attrs:{d:"M919.264 905.984l-138.912-138.912C851.808 692.32 896 591.328 896 480c0-229.376-186.624-416-416-416S64 250.624 64 480s186.624 416 416 416c95.008 0 182.432-32.384 252.544-86.208l141.44 141.44a31.904 31.904 0 0 0 45.248 0 32 32 0 0 0 0.032-45.248zM128 480C128 285.92 285.92 128 480 128s352 157.92 352 352-157.92 352-352 352S128 674.08 128 480z",fill:e.color}}),e._v(" "),t("path",{attrs:{d:"M625.792 448H512v-112a32 32 0 0 0-64 0V448h-112a32 32 0 0 0 0 64H448v112a32 32 0 1 0 64 0V512h113.792a32 32 0 1 0 0-64z",fill:e.color}})])}),[],!1,null,null,null).exports,K=p({props:{size:{type:Number,default:24},color:{type:String,default:"#231815"}}},(function(){var e=this,t=e._self._c;return t("svg",{staticClass:"icon-svg",attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:e.size,height:e.size}},[t("path",{attrs:{d:"M919.264 905.984l-138.912-138.912C851.808 692.32 896 591.328 896 480c0-229.376-186.624-416-416-416S64 250.624 64 480s186.624 416 416 416c95.008 0 182.432-32.384 252.544-86.208l141.44 141.44a31.904 31.904 0 0 0 45.248 0 32 32 0 0 0 0.032-45.248zM128 480C128 285.92 285.92 128 480 128s352 157.92 352 352-157.92 352-352 352S128 674.08 128 480z",fill:e.color}}),e._v(" "),t("path",{attrs:{d:"M625.792 448H336a32 32 0 0 0 0 64h289.792a32 32 0 1 0 0-64z",fill:e.color}})])}),[],!1,null,null,null),Y=p({components:{IconZoomOut:K.exports,IconZoomIn:G},inject:["flowChartRef"],methods:{init(){},zoomIn(){this.flowChartRef.fc.increaseScale()},zoomOut(){this.flowChartRef.fc.decreaseScale()}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"fc-controls"},[t("div",{staticClass:"fc-controls-inner"},[t("div",{staticClass:"fc-control-item",attrs:{title:"放大（Alt + 鼠标滚轮，缩放画布）"},on:{click:e.zoomIn}},[t("IconZoomIn")],1),e._v(" "),t("div",{staticClass:"fc-control-item",attrs:{title:"缩小（Alt + 鼠标滚轮，缩放画布）"},on:{click:e.zoomOut}},[t("IconZoomOut")],1)])])}),[],!1,null,null,null).exports,Q=p(t().extend({name:"FlowChart",components:{FcControls:Y,FcToolbox:R},provide(){return{flowChartRef:this}},props:{options:{required:!0},toolbox:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"top-left"}},beforeDestroy(){this.destroy()},data(){return{fcOptions:{}}},watch:{options:{immediate:!0,handler(e){null!=e&&(this.fcOptions=r()(this.options),this.destroy(),this.init())}}},methods:{init(){this.fc=new X(this.$refs.stage,this.fcOptions);const e=this.fc.getOptions();var t,n;this.toolbox&&(null===(t=this.$refs.toolbox)||void 0===t||t.init(e));this.controls&&(null===(n=this.$refs.controls)||void 0===n||n.init(e))},destroy(){this.fc&&this.fc.destroy()},reset(e){this.destroy(),this.fcOptions=e,this.init()},getOptionsInLocalStorage(){const e=localStorage.getItem(I);if(!e)return F;let t=JSON.parse(e);return t=V()({},F,t),t}}}),(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flow-chart-box"},[e.toolbox?t("FcToolbox",{ref:"toolbox"}):e._e(),e._v(" "),e.controls?t("FcControls",{ref:"controls"}):e._e(),e._v(" "),t("div",{ref:"stage",staticClass:"flow-chart"})],1)}),[],!1,null,null,null).exports}(),module.exports=o}();